<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Alico - Innovaci√≥n</title>
    
    <!-- OPTIMIZACI√ìN: Preconnect mejorado -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    
    <!-- OPTIMIZACI√ìN: Precarga de recursos cr√≠ticos -->
    <link rel="preload" href="images/Ali_head.png" as="image" type="image/png">
    <link rel="preload" href="images/logo-blanco.png" as="image" type="image/png">
    <link rel="preload" href="images/cocrea.png" as="image" type="image/png">
    <link rel="preload" href="images/versatil.png" as="image" type="image/png">
    
    <!-- OPTIMIZACI√ìN: DNS prefetch para recursos externos -->
    <link rel="dns-prefetch" href="//fonts.googleapis.com">
    <link rel="dns-prefetch" href="//fonts.gstatic.com">
    
    <!-- OPTIMIZACI√ìN: Fuentes con display=swap para mejor rendimiento -->
    <link href="https://fonts.googleapis.com/css2?family=Zilla+Slab:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&family=Work+Sans:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
    
    <!-- OPTIMIZACI√ìN: Material Icons con cache -->
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200&display=swap" rel="stylesheet">
    
    <!-- OPTIMIZACI√ìN: Estilos cr√≠ticos inline -->
    <style>
        /* Estilos cr√≠ticos para evitar FOUC */
        body {
            margin: 0;
            padding: 0;
            font-family: 'Work Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background-color: #003DA6;
            padding-top: 80px;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        body.loaded {
            opacity: 1;
        }
        
        /* Skeleton loading para im√°genes */
        .image-skeleton {
            background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
            background-size: 200% 100%;
            animation: loading 1.5s infinite;
            border-radius: 8px;
        }
        
        @keyframes loading {
            0% { background-position: 200% 0; }
            100% { background-position: -200% 0; }
        }
        
        /* Optimizaci√≥n para logos */
        .logo-image, .footer-logo-image {
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .logo-image.loaded, .footer-logo-image.loaded {
            opacity: 1;
        }
        
        /* Fallback inmediato para iconos */
        .material-symbols-rounded {
            font-display: swap;
        }
    </style>
    
    <!-- Estilos principales con defer si no son cr√≠ticos -->
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Header optimizado -->
    <header class="header">
        <button class="menu-toggle" onclick="toggleMenu()" aria-label="Abrir men√∫ de navegaci√≥n">
            <span></span><span></span><span></span>
        </button>
        
        <!-- Logo con optimizaci√≥n de carga -->
        <a href="index.html" class="logo" aria-label="Ir a p√°gina principal de Alico">
            <!-- Skeleton placeholder mientras carga -->
            <div class="logo-skeleton image-skeleton" style="width: 50px; height: 50px; border-radius: 50%;"></div>
            <img src="images/Ali_head.png" 
                 alt="Ali Head Logo" 
                 class="logo-image"
                 loading="eager"
                 decoding="async"
                 onload="this.classList.add('loaded'); this.previousElementSibling.style.display='none';"
                 onerror="this.style.display='none'; this.nextElementSibling.style.display='flex'; this.previousElementSibling.style.display='none';">
            <span class="logo-text-fallback" style="display: none;">a</span>
        </a>

        <!-- Navegaci√≥n optimizada -->
        <nav class="desktop-nav" aria-label="Navegaci√≥n principal">
            <div class="nav-links">
                <a href="generalidades-sgi.html" class="nav-link">
                    <span class="material-symbols-rounded nav-link-icon" data-icon="analytics">üìä</span>
                    <span>Generalidades SGI</span>
                </a>
                <a href="embajador-ali.html" class="nav-link">
                    <span class="material-symbols-rounded nav-link-icon" data-icon="support_agent">ü§ñ</span>
                    <span>Embajador Ali</span>
                </a>
                <a href="inteligencias-artificiales.html" class="nav-link">
                    <span class="material-symbols-rounded nav-link-icon" data-icon="psychology">üß†</span>
                    <span>Inteligencias artificiales</span>
                </a>
                <a href="recursos-audiovisuales.html" class="nav-link">
                    <span class="material-symbols-rounded nav-link-icon" data-icon="video_library">üé•</span>
                    <span>Recursos audiovisuales</span>
                </a>
                <a href="proyectos.html" class="nav-link">
                    <span class="material-symbols-rounded nav-link-icon" data-icon="engineering">‚öôÔ∏è</span>
                    <span>Proyectos</span>
                </a>
                <a href="https://experiencia-alico.firebaseapp.com/" class="nav-link" target="_blank" rel="noopener noreferrer">
                    <span class="material-symbols-rounded nav-link-icon" data-icon="inventory_2">üì¶</span>
                    <span>Dise√±a tu empaque</span>
                    <span class="material-symbols-rounded" style="font-size: 16px;" data-icon="open_in_new">‚Üó</span>
                </a>
            </div>
        </nav>

        <a href="https://docs.google.com/forms/d/e/1FAIpQLScfJWsXOj-BAAgG9tmxYFf4QEuOimOmJJPsF4bnxmquUParZA/viewform?usp=sharing&ouid=102976851646670750896" 
           class="header-banner-btn" target="_blank" rel="noopener noreferrer">
            <span class="material-symbols-rounded" data-icon="lightbulb">üí°</span>
            <span>Banco de iniciativas</span>
            <span class="material-symbols-rounded" style="font-size: 16px;" data-icon="open_in_new">‚Üó</span>
        </a>
    </header>

    <!-- Men√∫ m√≥vil optimizado -->
    <nav class="mobile-nav-menu" id="mobileNavMenu" aria-label="Men√∫ de navegaci√≥n m√≥vil">
        <div class="mobile-nav-grid">
            <a href="generalidades-sgi.html" class="mobile-nav-item">
                <div class="material-symbols-rounded mobile-nav-icon" data-icon="analytics">üìä</div>
                <div class="mobile-nav-title">Generalidades SGI</div>
            </a>
            <a href="embajador-ali.html" class="mobile-nav-item">
                <div class="material-symbols-rounded mobile-nav-icon" data-icon="support_agent">ü§ñ</div>
                <div class="mobile-nav-title">Embajador Ali</div>
            </a>
            <a href="inteligencias-artificiales.html" class="mobile-nav-item">
                <div class="material-symbols-rounded mobile-nav-icon" data-icon="psychology">üß†</div>
                <div class="mobile-nav-title">Inteligencias artificiales</div>
            </a>
            <a href="recursos-audiovisuales.html" class="mobile-nav-item">
                <div class="material-symbols-rounded mobile-nav-icon" data-icon="video_library">üé•</div>
                <div class="mobile-nav-title">Recursos audiovisuales</div>
            </a>
            <a href="proyectos.html" class="mobile-nav-item">
                <div class="material-symbols-rounded mobile-nav-icon" data-icon="engineering">‚öôÔ∏è</div>
                <div class="mobile-nav-title">Proyectos</div>
            </a>
            <a href="https://experiencia-alico.firebaseapp.com/" class="mobile-nav-item" target="_blank" rel="noopener noreferrer">
                <div class="material-symbols-rounded mobile-nav-icon" data-icon="inventory_2">üì¶</div>
                <div class="mobile-nav-title">Dise√±a tu empaque</div>
            </a>
            <a href="https://docs.google.com/forms/d/e/1FAIpQLScfJWsXOj-BAAgG9tmxYFf4QEuOimOmJJPsF4bnxmquUParZA/viewform?usp=sharing&ouid=102976851646670750896" 
               class="mobile-nav-item" target="_blank" rel="noopener noreferrer">
                <div class="material-symbols-rounded mobile-nav-icon" data-icon="lightbulb">üí°</div>
                <div class="mobile-nav-title">Banco de iniciativas</div>
            </a>
        </div>
    </nav>

    <!-- Bot√≥n de volver arriba -->
    <button class="back-to-top" id="backToTop" onclick="scrollToTop()" aria-label="Volver arriba">
        <span class="material-symbols-rounded" data-icon="keyboard_arrow_up">‚¨ÜÔ∏è</span>
    </button>

    <!-- Contenido principal -->
    <main id="main-content">
        <!-- Introducci√≥n con Ali optimizada -->
        <section class="intro-card">
            <div class="intro-content">
                <h1>¬°Hola! Soy Ali, el explorador de</h1>
                <h2>NUEVAS IDEAS</h2>
                <p style="font-size: 1.5em; margin-bottom: 10px;">en <em>Alico</em></p>
                <p>Estoy dise√±ado para cuestionar lo establecido, buscar respuestas m√°s all√° de lo evidente y atreverme a innovar.</p>
                <a href="embajador-ali.html" class="btn-primary">¬°Con√≥ceme!</a>
            </div>
            <div class="ali-character" aria-hidden="true">Espacio para Ali</div>
        </section>

        <!-- Modelo de innovaci√≥n -->
        <section class="model-card">
            <h2>NUESTRO MODELO DE INNOVACI√ìN</h2>
            <p>Para Alico, la innovaci√≥n es la capacidad de crear, entregar y capturar valor de nuevas formas, de manera consciente y sostenible que genere impactos y beneficios positivos en t√©rminos ambientales, sociales y econ√≥micos.</p>
            <a href="generalidades-sgi.html" class="btn-secondary">Conoce m√°s</a>
        </section>

        <!-- Metodolog√≠a con im√°genes optimizadas -->
        <section class="methodology-grid">
            <!-- Co-crea con lazy loading optimizado -->
            <article class="methodology-card">
                <div class="image-skeleton" style="width: 200px; height: 60px; margin-bottom: 24px;"></div>
                <img 
                    src="images/cocrea.png" 
                    alt="co-crea"
                    class="methodology-title-image"
                    loading="lazy"
                    decoding="async"
                    onload="this.style.opacity='1'; this.previousElementSibling.style.display='none';"
                    onerror="this.style.display='none'; this.nextElementSibling.style.display='block'; this.previousElementSibling.style.display='none';"
                    style="opacity: 0;">
                <h3 style="display: none;">co-crea</h3>
                <p>Implementar una metodolog√≠a de co-creaci√≥n que involucra clientes, tanto internos como externos, para as√≠ fortalecer las redes de valor de la compa√±√≠a.</p>
            </article>
            
            <!-- Vers√°til con lazy loading optimizado -->
            <article class="methodology-card">
                <div class="image-skeleton" style="width: 200px; height: 60px; margin-bottom: 24px;"></div>
                <img 
                    src="images/versatil.png" 
                    alt="VERS√ÅTIL"
                    class="methodology-title-image"
                    loading="lazy"
                    decoding="async"
                    onload="this.style.opacity='1'; this.previousElementSibling.style.display='none';"
                    onerror="this.style.display='none'; this.nextElementSibling.style.display='block'; this.previousElementSibling.style.display='none';"
                    style="opacity: 0;">
                <h3 style="display: none;">VERS√ÅTIL</h3>
                <p>Desarrollar soluciones innovadoras y vers√°tiles que se adapten a las necesidades cambiantes del mercado y generen valor sostenible para todos los stakeholders.</p>
            </article>
        </section>
    </main>

    <!-- Footer optimizado -->
    <footer id="footer">
        <div class="footer-logo-container">
            <div class="image-skeleton" style="width: 200px; height: 60px;"></div>
            <img src="images/logo-blanco.png" 
                 alt="Alico Logo" 
                 class="footer-logo-image"
                 loading="lazy"
                 decoding="async"
                 onload="this.classList.add('loaded'); this.previousElementSibling.style.display='none';"
                 onerror="this.style.display='none'; this.nextElementSibling.style.display='block'; this.previousElementSibling.style.display='none';">
            <div class="footer-logo-fallback" style="display: none;">alico</div>
        </div>
    </footer>

    <!-- Scripts optimizados -->
    <script>
        // OPTIMIZACI√ìN: Reemplazar iconos con fallbacks inmediatos
        function replaceIconsWithMaterial() {
            const iconMap = {
                analytics: 'analytics',
                support_agent: 'support_agent',
                psychology: 'psychology',
                video_library: 'video_library',
                engineering: 'engineering',
                inventory_2: 'inventory_2',
                open_in_new: 'open_in_new',
                lightbulb: 'lightbulb',
                keyboard_arrow_up: 'keyboard_arrow_up'
            };
            
            document.querySelectorAll('[data-icon]').forEach(element => {
                const iconName = element.getAttribute('data-icon');
                if (iconMap[iconName]) {
                    element.textContent = iconMap[iconName];
                    element.classList.add('material-symbols-rounded');
                }
            });
        }
        
        // OPTIMIZACI√ìN: Carga progresiva
        function initializeApp() {
            // Mostrar el body
            document.body.classList.add('loaded');
            
            // Reemplazar iconos
            replaceIconsWithMaterial();
            
            // Inicializar funcionalidades
            if (typeof initScrollReveal === 'function') {
                initScrollReveal();
            }
            
            console.log('üöÄ Alico cargado y optimizado');
        }
        
        // OPTIMIZACI√ìN: Carga cuando el DOM est√© listo
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', initializeApp);
        } else {
            initializeApp();
        }
        
        // OPTIMIZACI√ìN: Service Worker para cache
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/sw.js')
                    .then(reg => console.log('üîß SW registrado'))
                    .catch(err => console.log('‚ùå SW error:', err));
            });
        }
    </script>
    
    <!-- Scripts principales con defer -->
    <script src="scripts.js" defer></script>
    
    <!-- Script adicional optimizado -->
    <script defer>
        document.addEventListener('DOMContentLoaded', function() {
            // Optimizaci√≥n de im√°genes de metodolog√≠a
            const methodologyCards = document.querySelectorAll('.methodology-card');
            
            methodologyCards.forEach(card => {
                const img = card.querySelector('.methodology-title-image');
                const skeleton = card.querySelector('.image-skeleton');
                
                if (img && skeleton) {
                    // Observer para lazy loading
                    const observer = new IntersectionObserver((entries) => {
                        entries.forEach(entry => {
                            if (entry.isIntersecting) {
                                const image = entry.target;
                                if (image.src && !image.complete) {
                                    image.addEventListener('load', () => {
                                        skeleton.style.display = 'none';
                                        image.style.opacity = '1';
                                    });
                                }
                                observer.unobserve(image);
                            }
                        });
                    }, { rootMargin: '50px' });
                    
                    observer.observe(img);
                }
            });
        });
    </script>
</body>
</html>
