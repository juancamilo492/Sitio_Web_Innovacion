<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recursos Audiovisuales - Alico</title>
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Zilla+Slab:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&family=Work+Sans:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
    <!-- Material Icons -->
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" rel="stylesheet">
    <!-- Estilos principales -->
    <link rel="stylesheet" href="styles.css">
    
    <!-- Estilos adicionales para embebidos responsive -->
    <style>
        /* ==================================================
           CONTENEDORES RESPONSIVE PARA EMBEBIDOS
           ================================================== */
        .embed-container {
            position: relative;
            width: 100%;
            padding-bottom: 56.25%; /* Ratio 16:9 para videos */
            height: 0;
            overflow: hidden;
            border-radius: var(--border-radius-lg);
            box-shadow: var(--shadow-lg);
            background: linear-gradient(135deg, var(--gris-medio) 0%, var(--gris-claro) 100%);
            transition: all 0.3s ease;
        }

        .embed-container:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-xl);
        }

        .embed-container iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: none;
            border-radius: var(--border-radius-lg);
        }

        /* Contenedor específico para Spotify (más bajo) */
        .spotify-embed-container {
            position: relative;
            width: 100%;
            padding-bottom: 45%; /* Ratio más bajo para podcast */
            height: 0;
            overflow: hidden;
            border-radius: var(--border-radius-lg);
            box-shadow: var(--shadow-lg);
            background: linear-gradient(135deg, #1DB954 0%, #1ed760 100%);
            transition: all 0.3s ease;
        }

        .spotify-embed-container:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-xl);
        }

        .spotify-embed-container iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: none;
            border-radius: var(--border-radius-lg);
        }

        /* Ajustes para móvil */
        @media (max-width: 768px) {
            .embed-container {
                padding-bottom: 56.25%; /* Mantener ratio 16:9 en móvil */
            }
            
            .spotify-embed-container {
                padding-bottom: 60%; /* Más alto en móvil para mejor usabilidad */
            }
        }

        @media (max-width: 480px) {
            .spotify-embed-container {
                padding-bottom: 70%; /* Aún más alto en móviles pequeños */
            }
        }

        /* Grid de videos actualizado */
        .video-section {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: var(--spacing-xl);
            margin-bottom: var(--spacing-xxl);
        }

        @media (max-width: 768px) {
            .video-section {
                grid-template-columns: 1fr;
                gap: var(--spacing-lg);
            }
        }

        /* Sección de podcast */
        .podcast-section {
            background: linear-gradient(135deg, var(--verde-natura) 0%, var(--verde-natura-80) 100%);
            border-radius: var(--border-radius-xl);
            padding: var(--spacing-xxl);
            margin-bottom: var(--spacing-xxl);
            color: var(--blanco);
            text-align: center;
            position: relative;
            overflow: hidden;
            box-shadow: var(--shadow-lg);
        }

        .podcast-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(255,255,255,0.1) 0%, transparent 100%);
            pointer-events: none;
        }

        .podcast-section h2 {
            font-size: clamp(1.5rem, 4vw, 2rem);
            margin-bottom: var(--spacing-lg);
            font-family: 'Zilla Slab', serif;
            font-weight: 600;
            position: relative;
            z-index: 1;
        }

        .podcast-section p {
            font-size: clamp(1rem, 2.5vw, 1.2rem);
            line-height: 1.6;
            margin-bottom: var(--spacing-xl);
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            opacity: 0.95;
            position: relative;
            z-index: 1;
        }

        .podcast-embed-wrapper {
            position: relative;
            z-index: 1;
            max-width: 800px;
            margin: 0 auto;
        }

        /* Efecto de carga para embebidos */
        .embed-loading {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: var(--spacing-md);
            color: var(--blanco);
            font-family: 'Work Sans', sans-serif;
            font-weight: 500;
            z-index: 1;
        }

        .loading-spinner {
            width: 40px;
            height: 40px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-top: 3px solid var(--blanco);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <!-- Header fijo con navegación -->
    <header class="header">
        <!-- Botón de menú móvil -->
        <button class="menu-toggle" onclick="toggleMenu()" aria-label="Abrir menú de navegación">
            <span></span>
            <span></span>
            <span></span>
        </button>
        
        <!-- Logo de Alico -->
        <a href="index.html" class="logo" aria-label="Ir a página principal de Alico">
            <img src="images/Ali_head.png" 
                 alt="Ali Head Logo" 
                 class="logo-image"
                 onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
            <span class="logo-text-fallback">a</span>
        </a>

        <!-- Navegación de escritorio -->
        <nav class="desktop-nav" aria-label="Navegación principal">
            <div class="nav-links">
                <a href="generalidades-sgi.html" class="nav-link">
                    <span class="material-symbols-rounded nav-link-icon">analytics</span>
                    <span>Generalidades SGI</span>
                </a>
                <a href="embajador-ali.html" class="nav-link">
                    <span class="material-symbols-rounded nav-link-icon">support_agent</span>
                    <span>Embajador Ali</span>
                </a>
                <a href="inteligencias-artificiales.html" class="nav-link">
                    <span class="material-symbols-rounded nav-link-icon">psychology</span>
                    <span>Inteligencias artificiales</span>
                </a>
                <a href="recursos-audiovisuales.html" class="nav-link">
                    <span class="material-symbols-rounded nav-link-icon">video_library</span>
                    <span>Recursos audiovisuales</span>
                </a>
                <a href="proyectos.html" class="nav-link">
                    <span class="material-symbols-rounded nav-link-icon">engineering</span>
                    <span>Proyectos</span>
                </a>
                <a href="https://experiencia-alico.firebaseapp.com/" class="nav-link" target="_blank" rel="noopener noreferrer">
                    <span class="material-symbols-rounded nav-link-icon">inventory_2</span>
                    <span>Diseña tu empaque</span>
                    <span class="material-symbols-rounded" style="font-size: 16px;">open_in_new</span>
                </a>
            </div>
        </nav>

        <!-- Botón de banco de iniciativas en el header -->
        <a href="https://docs.google.com/forms/d/e/1FAIpQLScfJWsXOj-BAAgG9tmxYFf4QEuOimOmJJPsF4bnxmquUParZA/viewform?usp=sharing&ouid=102976851646670750896" 
           class="header-banner-btn" target="_blank" rel="noopener noreferrer">
            <span class="material-symbols-rounded">lightbulb</span>
            <span>Banco de iniciativas</span>
            <span class="material-symbols-rounded" style="font-size: 16px;">open_in_new</span>
        </a>
    </header>

    <!-- Menú de navegación móvil -->
    <nav class="mobile-nav-menu" id="mobileNavMenu" aria-label="Menú de navegación móvil">
        <div class="mobile-nav-grid">
            <a href="generalidades-sgi.html" class="mobile-nav-item">
                <div class="material-symbols-rounded mobile-nav-icon">analytics</div>
                <div class="mobile-nav-title">Generalidades SGI</div>
            </a>
            <a href="embajador-ali.html" class="mobile-nav-item">
                <div class="material-symbols-rounded mobile-nav-icon">support_agent</div>
                <div class="mobile-nav-title">Embajador Ali</div>
            </a>
            <a href="inteligencias-artificiales.html" class="mobile-nav-item">
                <div class="material-symbols-rounded mobile-nav-icon">psychology</div>
                <div class="mobile-nav-title">Inteligencias artificiales</div>
            </a>
            <a href="recursos-audiovisuales.html" class="mobile-nav-item">
                <div class="material-symbols-rounded mobile-nav-icon">video_library</div>
                <div class="mobile-nav-title">Recursos audiovisuales</div>
            </a>
            <a href="proyectos.html" class="mobile-nav-item">
                <div class="material-symbols-rounded mobile-nav-icon">engineering</div>
                <div class="mobile-nav-title">Proyectos</div>
            </a>
            <a href="https://experiencia-alico.firebaseapp.com/" class="mobile-nav-item" target="_blank" rel="noopener noreferrer">
                <div class="material-symbols-rounded mobile-nav-icon">inventory_2</div>
                <div class="mobile-nav-title">Diseña tu empaque</div>
            </a>
            <a href="https://docs.google.com/forms/d/e/1FAIpQLScfJWsXOj-BAAgG9tmxYFf4QEuOimOmJJPsF4bnxmquUParZA/viewform?usp=sharing&ouid=102976851646670750896" 
               class="mobile-nav-item" target="_blank" rel="noopener noreferrer">
                <div class="material-symbols-rounded mobile-nav-icon">lightbulb</div>
                <div class="mobile-nav-title">Banco de iniciativas</div>
            </a>
        </div>
    </nav>

    <!-- Botón de volver arriba -->
    <button class="back-to-top" id="backToTop" onclick="scrollToTop()" aria-label="Volver arriba">
        <span class="material-symbols-rounded">keyboard_arrow_up</span>
    </button>

    <!-- Contenido principal de recursos audiovisuales -->
    <main>
        <!-- Banner principal de la página -->
        <section class="banner-section">
            <div class="banner-content banner-recursos">
                RECURSOS AUDIOVISUALES
            </div>
        </section>

        <!-- Sección de videos embebidos de YouTube -->
        <section class="video-section">
            <!-- Video 1: Lanzamiento Termoflex +B -->
            <article class="video-embed-card">
                <div class="embed-container">
                    <div class="embed-loading" id="loading-termoflex">
                        <div class="loading-spinner"></div>
                        <span>Cargando video...</span>
                    </div>
                    <iframe 
                        src="https://www.youtube.com/embed/z3t8BdLXPSg?rel=0&modestbranding=1&showinfo=0"
                        title="Lanzamiento Termoflex +B - Alico"
                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                        allowfullscreen
                        onload="hideLoading('loading-termoflex')"
                        loading="lazy">
                    </iframe>
                </div>
                <div class="video-title">LANZAMIENTO TERMOFLEX +B</div>
            </article>

            <!-- Video 2: Proyecto Casas -->
            <article class="video-embed-card">
                <div class="embed-container">
                    <div class="embed-loading" id="loading-casas">
                        <div class="loading-spinner"></div>
                        <span>Cargando video...</span>
                    </div>
                    <iframe 
                        src="https://www.youtube.com/embed/tCiqvXYunD0?rel=0&modestbranding=1&showinfo=0"
                        title="Proyecto Casas - Alico"
                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                        allowfullscreen
                        onload="hideLoading('loading-casas')"
                        loading="lazy">
                    </iframe>
                </div>
                <div class="video-title">PROYECTO CASAS</div>
            </article>
        </section>

        <!-- Nueva sección: Podcast de Spotify -->
        <section class="podcast-section">
            <div class="material-symbols-rounded" style="font-size: 60px; margin-bottom: var(--spacing-lg); color: var(--blanco); opacity: 0.9;">podcasts</div>
            <h2>Nuestro Podcast</h2>
            <p>Sumérgete en conversaciones profundas sobre innovación, sostenibilidad y el futuro del empaque. Escucha las historias detrás de nuestros proyectos más ambiciosos y conoce las mentes brillantes que están transformando la industria.</p>
            
            <div class="podcast-embed-wrapper">
                <div class="spotify-embed-container">
                    <div class="embed-loading" id="loading-spotify">
                        <div class="loading-spinner"></div>
                        <span>Cargando podcast...</span>
                    </div>
                    <iframe 
                        src="https://open.spotify.com/embed/show/2NoZaH1m43Lhj2FEpz85WO?utm_source=generator&theme=0"
                        title="Podcast Alico - Innovación en Empaque"
                        allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"
                        onload="hideLoading('loading-spotify')"
                        loading="lazy">
                    </iframe>
                </div>
            </div>
            
            <div style="margin-top: var(--spacing-lg); font-size: 0.95em; opacity: 0.9;">
                <div style="display: flex; align-items: center; justify-content: center; gap: var(--spacing-sm); flex-wrap: wrap;">
                    <span class="material-symbols-rounded" style="font-size: 18px;">headphones</span>
                    <span>Disponible en Spotify</span>
                    <span>•</span>
                    <span>Episodios semanales</span>
                    <span>•</span>
                    <span>Contenido exclusivo</span>
                </div>
            </div>
        </section>

        <!-- Tarjetas de recursos adicionales CON IMÁGENES ORIGINALES -->
        <section class="resource-cards">
            <!-- Tarjeta 1: Plantillas -->
            <article class="resource-card">
                <h3>Plantillas</h3>
                <div class="resource-card-image" style="background-image: url('ruta/a/imagen-plantillas.jpg');">
                    <!-- Placeholder para imagen de plantillas -->
                    Imagen de Plantillas
                </div>
            </article>

            <!-- Tarjeta 2: Recursos adicionales -->
            <article class="resource-card">
                <h3>Recursos adicionales</h3>
                <div class="resource-card-image" style="background-image: url('ruta/a/imagen-recursos.jpg');">
                    <!-- Placeholder para imagen de recursos adicionales -->
                    Imagen de Recursos
                </div>
            </article>

            <!-- Tarjeta 3: Experiencia del cliente -->
            <article class="resource-card">
                <h3>Experiencia del cliente</h3>
                <div class="resource-card-image" style="background-image: url('ruta/a/imagen-experiencia.jpg');">
                    <!-- Placeholder para imagen de experiencia del cliente -->
                    Imagen de Experiencia
                </div>
            </article>

            <!-- Tarjeta 4: Eventos -->
            <article class="resource-card">
                <h3>Eventos</h3>
                <div class="resource-card-image" style="background-image: url('ruta/a/imagen-eventos.jpg');">
                    <!-- Placeholder para imagen de eventos -->
                    Imagen de Eventos
                </div>
            </article>
        </section>
    </main>

    <!-- Footer -->
    <footer>
        <div class="footer-logo-container">
            <img src="images/logo-blanco.png" 
                 alt="Alico Logo" 
                 class="footer-logo-image"
                 onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
            <div class="footer-logo-fallback">alico</div>
        </div>
    </footer>

    <!-- Archivo JavaScript compartido -->
    <script src="scripts.js"></script>
    
    <!-- JavaScript específico para recursos audiovisuales -->
    <script>
        // Función para ocultar indicador de carga
        function hideLoading(loadingId) {
            const loadingElement = document.getElementById(loadingId);
            if (loadingElement) {
                setTimeout(() => {
                    loadingElement.style.opacity = '0';
                    setTimeout(() => {
                        loadingElement.style.display = 'none';
                    }, 300);
                }, 1000);
            }
        }

        document.addEventListener('DOMContentLoaded', function() {
            // Animaciones de aparición para embebidos
            const embedContainers = document.querySelectorAll('.embed-container, .spotify-embed-container');
            
            const observerOptions = {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            };
            
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.opacity = '1';
                        entry.target.style.transform = 'translateY(0)';
                    }
                });
            }, observerOptions);
            
            embedContainers.forEach((container, index) => {
                container.style.opacity = '0';
                container.style.transform = 'translateY(30px)';
                container.style.transition = `opacity 0.6s ease ${index * 0.2}s, transform 0.6s ease ${index * 0.2}s`;
                observer.observe(container);
            });

            // Efectos hover mejorados para las tarjetas de recursos
            const resourceCards = document.querySelectorAll('.resource-card');
            
            resourceCards.forEach(card => {
                card.addEventListener('mouseenter', function() {
                    this.style.transform = 'translateY(-12px) scale(1.03)';
                    this.style.boxShadow = 'var(--shadow-xl)';
                    
                    const image = this.querySelector('.resource-card-image');
                    if (image) {
                        image.style.transform = 'scale(1.1)';
                    }
                });
                
                card.addEventListener('mouseleave', function() {
                    this.style.transform = 'translateY(0) scale(1)';
                    this.style.boxShadow = 'var(--shadow-lg)';
                    
                    const image = this.querySelector('.resource-card-image');
                    if (image) {
                        image.style.transform = 'scale(1)';
                    }
                });
            });

            // Mostrar indicadores de carga inicialmente
            setTimeout(() => {
                const loadingElements = document.querySelectorAll('.embed-loading');
                loadingElements.forEach(loading => {
                    loading.style.opacity = '1';
                });
            }, 500);

            // Manejo de errores para iframes
            const iframes = document.querySelectorAll('iframe');
            iframes.forEach(iframe => {
                iframe.addEventListener('error', function() {
                    console.warn('Error cargando embed:', this.src);
                    const container = this.closest('.embed-container, .spotify-embed-container');
                    if (container) {
                        const errorMsg = document.createElement('div');
                        errorMsg.style.cssText = `
                            position: absolute;
                            top: 50%;
                            left: 50%;
                            transform: translate(-50%, -50%);
                            color: white;
                            text-align: center;
                            font-family: 'Work Sans', sans-serif;
                            z-index: 2;
                        `;
                        errorMsg.innerHTML = `
                            <div class="material-symbols-rounded" style="font-size: 48px; margin-bottom: 8px; opacity: 0.7;">error</div>
                            <div>Error al cargar contenido</div>
                            <div style="font-size: 0.8em; opacity: 0.8; margin-top: 4px;">Intenta recargar la página</div>
                        `;
                        container.appendChild(errorMsg);
                    }
                });
            });

            console.log('✅ Recursos audiovisuales con embebidos cargados correctamente');
        });
    </script>
</body>
</html>
